# 입출금 내역 분석기 확장판
## 확장된 입출금 내역 분석기 요구 사항
1. 특정 입출금 내역을 검색할 수 있는 기능, 예를 들어 주어진 날짜 범위 또는 특정 범주의 입출금 내역 얻기.
2. 검색 결과의 요약 통계를 테스트, HTML등 다양한 형식으로 만들기

## 개방/폐쇄 원칙
- 거래 내역의 여러 속성을 조합할수록 코드가 점점 복잡해진다.
- 반복 로직과 비즈니스 로직이 결합되어 분리하기가 어려워진다.
- 코드를 반복한다.

개방/폐쇄 원칙을 적용하면 코드를 직접 바꾸지 않고 해당 메서드나 클래스의 동작을 바꿀 수 있다. 
현재 코드에는 반복 로직과 비즈니스 로직이 결합되어 있다. 비즈니스 로직을 담당하는 BankTransactionFilter 인터페이스를 만들어 문제를 해결한다. 

```
@FunctionalInterface
public interface BankTransactionFilter {
    boolean test(BankTransaction bankTrasaction);
}
```
BankTransactionFilter 인터페이스는 BankTransaction의 선택 조건을 결정한다. 
findTransactions()메서드는 더 이상 특정 필터 구현에 의존하지 않는다. 기존 메서드의 바디를 바꿀 필요 없이 새로운 구현을 인수로 전달하기 때문이다. 따라서 변경 없이도 확장성은 개방된다. 이런 방식으로 기능을 확장하면 기존에 이미 구현하고 검증한 코드를 바꾸는 일을 최소화할 수 있으므로 새로운 버그가 발생할 만한 대상을 줄일 수 있다. 예전 코드를 바꾸지 않고도 새로운 기능을 추가할 수 있기 때문이다.

개방/폐쇄 원칙의 장점
- 기존 코드를 바꾸지 않으므로 기존 코드가 잘못될 가능성이 줄어든다.
- 코드가 중복되지 않으므로 기존 코드의 재사용성이 높아진다.
- 결합도가 낮아지므로 코드 유지보수성이 좋아진다.

## 인터페이스 문제
한 인터페이스에 모든 기능을 추가하는 갓 인터페이스를 만드는 일은 피해야 한다.

### 갓 인터페이스
- 자바의 인터페이스는 모든 구현이 지켜야 할 규칙을 정의한다. 즉 구현 클래스는 인터페이스에서 정의한 모든 연산의 구현 코드를 제공해야 한다. 따라서 인터페이스를 바꾸면 이를 구현한 코드도 바뀐 내용을 지원하도록 갱신되어야 한다. 더 많은 연산을 추가할수록 더 자주 코드가 바뀌며, 문제가 발생할 수 있는 범위도 넓어진다.
- 인터페이스가 도메인 객체의 특정 접근자에 종속되는 문제가 생겼다. 도메인 객체의 세부 내용이 바뀌면 인터페이스도 바뀌어야 하며 결과적으로 구현 코드도 바뀌어야 한다.

### 지나친 세밀함
기능이 여러 인터페이스로 분산되면 필요한 기능을 찾기 어렵다. 자주 사용하는 기능을 쉽게 찾을 수 있어야 유지보수성도 좋아진다. 더욱이 인터페이스가 너무 세밀하면 복잡도가 높아지며, 새로운 인터페이스가 계속해서 프로젝트에 추가된다.