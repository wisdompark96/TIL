## 팁과 한계
MongoDB로 실제 애플리케이션을 개발하고 실제 서비스되는 시스템으로 배포하기 전에 미리 알고있어야만 하는 한계점이 몇 가지 있다. 이것들 대부분은 MongoDB가 메모리 맵(memorymapped) 파일에서 어떻게 데이터를 관리하고 디스크와 메모리 사이에서 데이터를 이동시켰는지에 대한 결과다.

1. MongoDB는 보통 64비트 시스템에서 실행되어야 한다. 32비트 시스템은 4GB의 메모리만 쓸 수 있다. 이는 메타데이터와(metadata)와 스토리지 오버헤드를 포함하는 데이터 세트가 4GB에 이르게 되면, MongoDB는 더 이상의 데이터를 저장할 수 없게 된다. 실제 서비스 시스템의 대부분은 이것보다는 많은 데이터가 필요할 것이고, 따라서 64비트 시스템이 필요할 것이다.

2. MongoDB는 필요한 경우 메모리를 자동으로 할당한다. 이것으로 인해 데이터베이스를 공유 환경에서 실행하는 것이 더 까다로워진다. 일반적인 데이터베이스 서버에서와 같이 MongoDB도 전용 서버에서 최적으로 실행된다.

MongoDB의 메모리 맵 파일 사용과 관련하여 알아야 할 가장 중요한 것은, 이용 가능한 램 크기를 초과하는 데이터 세트에 어떻게 영향을 미치는가다. 이와 같은 데이터 세트를 질의할 때 메모리 스와핑이 발생하는 데이터에 대해 자주 디스크 접근을 요구한다. 결론적으로 작업 세트가 메모리를 초과하고 쿼리가 심각하게 느려지기 전까지 많은 사용자들은 MongoDB의 훌륭한 성능을 경험할 수 있다.

관련된 문제는 MongoDB가 컬렉션과 도큐먼트를 저장하기 위해 사용하는 데이터 구조가 데이터 크기 관점에서는 그렇게 효율적이지 않다는 것이다. 예를 들어, MongoDB는 도큐먼트키를 각 도큐먼트에 저장한다. 이는 'username'이라는 필드 이름을 가진 모든 도큐먼트가 필드 이름을 저장하기 위해 8바이트를 사용함을 뜻한다.

MongoDB가 단일 노드의 로컬에서 실행해 보기에 매우 단순한 데이터베이스 중 하나이지만, 대규모의 클러스터를 운영하기 위한 유지비용이 발생할 수 있다. 이는 대부분의 분산 데이터베이스에서 발생하는 일이지만, 세 개의 환경설정 노드 클러스터를 요구하고 샤딩과 함께 각각 복제를 관리하는 MongoDB에게는 다소 예민한 문제일 수 있다.

HBase와 같은 데이터베이스에서는 데이터가 샤드에 그룹화되어 있어 클러스터의 어떤 머신에서든 복제가 이루어질 수 있다. 대신에 MongoDB는 복제 세트의 샤드를 허용하는데, 이는 데이터의 조각들이 오직 그 복제 세트 내에서만 복제됨을 뜻한다. 샤딩과 복제를 분리된 개념으로 유지하는 것은 그러한 장점이 있지만, 또한 MongoDB 클러스터를 구성할 때 각각 설정되고 관리되어야 함을 뜻한다.